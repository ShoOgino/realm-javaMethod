    protected Table tableOrNull() {
        if (tableOrView instanceof Table) {
            return (Table) tableOrView;
        } else {
            throw new IllegalStateException("Cannot construct a query from a view!");
        }
    }

