    @Test(dataProvider = "twoColumns")
    public void shouldDefineTwoColumnsTable(ColumnType columnType, ColumnType columnType2) {
        TableSpec spec = new TableSpec();
        spec.addColumn(columnType, "foo");
        TableSpec subspec = spec.addSubtableColumn("bar");
        subspec.addColumn(columnType2, "subbar");
        assertEquals(0, spec.getColumnIndex("foo"));
        assertEquals(1, spec.getColumnIndex("bar"));
        assertEquals(0, subspec.getColumnIndex("subbar"));
        assertEquals(-1, subspec.getColumnIndex("xx"));

        TableSpec spec2 = new TableSpec();
        spec2.addColumn(columnType, "foo");
        TableSpec subspec2 = spec2.addSubtableColumn("bar");
        subspec2.addColumn(columnType2, "subbar");
        
        checkSpecIdentity(spec, spec2);

        Table table = new Table();
        table.updateFromSpec(spec);
    }

