    @Override
    public void run() {
        Realm realm = null;
        try {
            Looper.prepare();
            realm = Realm.getDefaultInstance();
            realmOpen = new CountDownLatch(1);
            workerHandler = new WorkerHandler(realm);
            Looper.loop();
        } finally {
            if (realm != null) {
                realm.close();
                realmOpen.countDown();
            }
        }
    }

