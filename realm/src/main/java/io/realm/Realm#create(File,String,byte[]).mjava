    private static Realm create(File writableFolder, String filename, byte[] key) {
        checkValidRealmPath(writableFolder, filename);
        String canonicalPath = getCanonicalPath(new File(writableFolder, filename));
        if (Looper.myLooper() != null) {
            return createAndValidate(canonicalPath, key, true, true);
        } else {
            return createAndValidate(canonicalPath, key, true, false);
        }
    }

