    static public void migrateRealmAtPath(String realmPath, byte[] key, RealmMigration migration) {
        Realm realm = Realm.createAndValidate(realmPath, key, false);
        realm.beginTransaction();
        realm.setVersion(migration.execute(realm, realm.getVersion()));
        realm.commitTransaction();

        Map<String, Realm> realms = realmsCache.get();
        realms.put(realmPath, new Realm(realmPath, key));
        realmsCache.set(realms);
    }

