    private <E extends RealmObject> E get(Class<E> clazz, long rowIndex, String generatedClassName) {
        E result;

        String simpleClassName;
        if (simpleClassNames.containsKey(clazz)) {
            simpleClassName = simpleClassNames.get(clazz);
        } else {
            simpleClassName = clazz.getSimpleName();
            simpleClassNames.put(clazz, simpleClassName);
        }

        Row row = transaction.getTable(simpleClassName).getRow(rowIndex);

        Class<?> generatedClass;
        try {
            if (generatedClasses.containsKey(generatedClassName)) {
                generatedClass = generatedClasses.get(generatedClassName);
            } else {
                generatedClass = Class.forName(generatedClassName);
                generatedClasses.put(generatedClassName, generatedClass);
            }
        } catch (ClassNotFoundException e) {
            e.printStackTrace();
            return null; // TODO: throw RealmException
        }

        Constructor constructor = null;
        try {
            if (constructors.containsKey(generatedClass)) {
                constructor = constructors.get(generatedClass);
            } else {
                constructor = generatedClass.getConstructor();
                constructors.put(generatedClass, constructor);
            }
        } catch (NoSuchMethodException e) {
            e.printStackTrace();
            return null; // TODO: throw RealmException
        }

        try {
            // We are know the casted type since we generated the class
            //noinspection unchecked
            result = (E) constructor.newInstance();
        } catch (InstantiationException e) {
            e.printStackTrace();
            return null; // TODO: throw RealmException
        } catch (IllegalAccessException e) {
            e.printStackTrace();
            return null; // TODO: throw RealmException
        } catch (InvocationTargetException e) {
            e.printStackTrace();
            return null; // TODO: throw RealmException
        }
        result.realmSetRow(row);
        return result;
    }

