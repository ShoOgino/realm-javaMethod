    public void testAddManagedObjectAtIndex_nonManagedMode() {
        RealmList list = new RealmList();
        testRealm.beginTransaction();
        AllTypes managedAllTypes = testRealm.createObject(AllTypes.class);
        testRealm.commitTransaction();
        try {
            list.add(5, managedAllTypes);
            fail("Adding managed objects to non-managed lists should fail");
        } catch (IllegalStateException ignore) {
        }
    }

