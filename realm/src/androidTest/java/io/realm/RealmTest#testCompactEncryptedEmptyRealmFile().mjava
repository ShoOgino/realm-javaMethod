    public void testCompactEncryptedEmptyRealmFile() {
        RealmConfiguration config = new RealmConfiguration.Builder(getContext())
                .name("enc.realm").encryptionKey(getRandomKey()).resetRealmBeforeOpening()
                .build();
        Realm realm = Realm.getInstance(config);
        realm.close();
        // TODO: remove try/catch block when compacting encrypted Realms is supported
        try {
            assertTrue(Realm.compactRealm(config));
            fail();
        } catch (IllegalArgumentException expected) {
        }
    }

