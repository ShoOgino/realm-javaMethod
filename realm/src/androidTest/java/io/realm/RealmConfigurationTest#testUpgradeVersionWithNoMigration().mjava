    public void testUpgradeVersionWithNoMigration() {
        realm = Realm.getInstance(defaultConfig);
        assertEquals(0, realm.getVersion());
        realm.close();

        // Version upgrades should always require a migration.
        try {
            realm = Realm.getInstance(new RealmConfiguration.Builder(getContext()).schemaVersion(42).build());
            fail();
        } catch (RealmMigrationNeededException expected) {
        }
    }

