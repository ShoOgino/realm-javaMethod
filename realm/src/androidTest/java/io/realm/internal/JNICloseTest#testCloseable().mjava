    public void testCloseable() {
        String testFile = "closeableTest.realm";
        File f = new File(testFile);
        if (f.exists()) {
            f.delete();
        }

        List<Closeable> resources = new ArrayList<Closeable>();

        SharedGroup sg = new SharedGroup(testFile);
        resources.add(sg);

        WriteTransaction wt = sg.beginWrite();
        resources.add(wt);
        try {
            Table t = wt.getTable("test");
            resources.add(t);
            t.addColumn(ColumnType.STRING, "StringColumn");

            t.add("abc");
            t.add("cba");

            wt.commit();

        } catch(Throwable t) {
            wt.rollback();
        } finally {
            for(Closeable c : resources) {
                try {
                    c.close();
                } catch(java.io.IOException e) {
                    e.printStackTrace();
                }
            }
        }
    }

