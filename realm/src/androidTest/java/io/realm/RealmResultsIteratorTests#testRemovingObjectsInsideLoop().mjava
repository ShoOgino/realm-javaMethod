    public void testRemovingObjectsInsideLoop() {
        RealmResults<AllTypes> result = testRealm.allObjects(AllTypes.class);

        try {
            testRealm.beginTransaction();
            for (AllTypes obj : result) {
                obj.removeFromRealm();
            }
        } catch (ConcurrentModificationException ignored) {
            return;
        } finally {
            testRealm.cancelTransaction();
        }

        fail("Modifying Realm while iterating is not allowed");
    }

