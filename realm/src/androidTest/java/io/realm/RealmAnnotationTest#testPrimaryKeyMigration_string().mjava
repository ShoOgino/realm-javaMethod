    // Test migrating primary key from long to str with existing data
    public void testPrimaryKeyMigration_string() {
        testRealm.beginTransaction();
        testRealm.clear(AnnotationTypes.class);
        for (int i = 1; i <= 2; i++) {
            PrimaryKeyAsLong obj = testRealm.createObject(PrimaryKeyAsLong.class);
            obj.setId(i);
            obj.setName("String" + i);
        }

        Table table = testRealm.getTable(PrimaryKeyAsLong.class);
        table.setPrimaryKey("name");
        testRealm.commitTransaction();

        assertEquals(1, table.getPrimaryKey());
    }

