    // Helper function to create a Realm object java file with a single field.
    public static TestRealmObjectFileObject getSingleFieldInstance(String className,
                                                            String annotationToField,
                                                            String fieldType,
                                                            String fieldName) throws IOException {
        String FieldName = fieldName.substring(0, 1).toUpperCase() + fieldName.substring(1, fieldName.length());
        StringWriter stringWriter = new StringWriter();
        JavaWriter writer = new JavaWriter(stringWriter);

        // Package name
        writer.emitPackage("some.test");

        // Import Realm classes
        writer.emitImports("io.realm.*");
        writer.emitImports("io.realm.annotations.*");

        // Begin the class definition
        writer.beginType(
                className, // full qualified name of the item to generate
                "class",                     // the type of the item
                EnumSet.of(Modifier.PUBLIC), // modifiers to apply
                "RealmObject")                   // class to extend
                .emitEmptyLine();

        // Declaration of field
        writer.emitAnnotation(annotationToField);
        writer.emitField(fieldType, fieldName, EnumSet.of(Modifier.PRIVATE));

        // Getter
        writer.beginMethod(
                fieldType, // Return type
                "get" + FieldName, // Method name
                EnumSet.of(Modifier.PUBLIC)); // Modifiers
        writer.emitStatement("return realmGet$" +  fieldName + "()");
        writer.endMethod();

        // Setter
        writer.beginMethod(
                "void", // Return type
                "set"+ FieldName, // Method name
                EnumSet.of(Modifier.PUBLIC),
                fieldType, fieldName); // Modifiers
        writer.emitStatement("realmSet$" + fieldName + "(" + fieldName + ")");
        writer.endMethod();

        // Realm Getter
        writer.beginMethod(
                fieldType, // Return type
                "realmGet$" + fieldName, // Method name
                EnumSet.of(Modifier.PUBLIC)); // Modifiers
        writer.emitStatement("return " +  fieldName);
        writer.endMethod();

        // Realm Setter
        writer.beginMethod(
                "void", // Return type
                "realmSet$"+ fieldName, // Method name
                EnumSet.of(Modifier.PUBLIC),
                fieldType, fieldName); // Modifiers
        writer.emitStatement("this." + fieldName + "=" + fieldName);
        writer.endMethod();

        writer.endType();

        return new TestRealmObjectFileObject(className, stringWriter);
    }

