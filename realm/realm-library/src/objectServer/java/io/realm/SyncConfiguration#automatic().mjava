    /**
     * Creates an automatic default configuration based on the the currently logged in user.
     * <p>
     * This configuration will point to the default Realm on the server where the user was
     * authenticated.
     *
     * @throws IllegalStateException if no user are logged in, or multiple users have. Only one should
     * be logged in when calling this method.
     * @return The constructed {@link SyncConfiguration}.
     * @deprecated use {@link SyncUser#getDefaultConfiguration()} instead.
     */
    @Deprecated
    @Beta
    public static SyncConfiguration automatic() {
        SyncUser user = SyncUser.current();
        if (user == null) {
            throw new IllegalStateException("No user was logged in.");
        }
        return user.getDefaultConfiguration();
    }

