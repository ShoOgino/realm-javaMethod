        synchronized SyncConfiguration initAndGetManagementRealmConfig(
                ObjectServerUser syncUser, final SyncUser user) {
            if (managementRealmConfig == null) {
                managementRealmConfig = new SyncConfiguration.Builder(
                        user, getManagementRealmUrl(syncUser.getAuthenticationUrl()))
                        .errorHandler(new SyncSession.ErrorHandler() {
                            @Override
                            public void onError(SyncSession session, ObjectServerError error) {
                                RealmLog.error(String.format("Unexpected error with %s's management Realm: %s",
                                        user.getIdentity(),
                                        error.toString()));
                            }

                            @Override
                            public void onClientResetRequired(SyncSession session, ClientResetHandler handler) {
                                RealmLog.error("Client Reset required for users management Realm: " + user.toString());
                            }
                        })
                        .modules(new PermissionModule())
                        .build();
            }

            return managementRealmConfig;
        }

