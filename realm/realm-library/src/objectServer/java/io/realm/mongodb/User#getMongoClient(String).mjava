    /**
     * Returns a {@link MongoClient} instance for accessing documents in the database.
     * @param serviceName the service name used to connect to the server
     */
    public synchronized MongoClient getMongoClient(String serviceName) {
        Util.checkEmpty(serviceName, "serviceName");
        if (mongoClient == null) {
            if (dispatcher == null) {
                dispatcher = new TaskDispatcher();
            }
            OsMongoClient osMongoClient = new OsMongoClient(app.nativePtr, serviceName, dispatcher);
            mongoClient = new MongoClientImpl(osMongoClient, app.getConfiguration().getDefaultCodecRegistry(), dispatcher);
        }
        return mongoClient;
    }

