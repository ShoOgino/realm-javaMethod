    // FIXME Prelimiry implementation to be able to test passing BsonValues through JNI
    <T> T invoke(Object arg, Class<T> resultClass, CodecRegistry registry) {
        String a = JniBsonProtocol.encode(arg, registry);
        String s = nativeCallFunction(a);
        return JniBsonProtocol.decode(s, resultClass, registry);
    }

