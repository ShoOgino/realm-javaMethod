    /**
     * Returns an instance of the {@link PermissionManager} for this user that makes it possible to see, modify and create
     * permissions related to this users Realms.
     * <p>
     * Every instance returned by this method must be closed by calling {@link PermissionManager#close()} when it
     * no longer is needed.
     * <p>
     * The {@link PermissionManager} can only be opened from the main tread, calling this method from any other thread
     * will throw an {@link IllegalStateException}.
     *
     * @throws IllegalStateException if this method is not called from the UI thread.
     * @return an instance of the PermissionManager.
     */
    public PermissionManager getPermissionManager() {
        if (!new AndroidCapabilities().isMainThread()) {
            throw new IllegalStateException("The PermissionManager can only be opened from the main thread.");
        }
        return PermissionManager.getInstance(this);
    }

