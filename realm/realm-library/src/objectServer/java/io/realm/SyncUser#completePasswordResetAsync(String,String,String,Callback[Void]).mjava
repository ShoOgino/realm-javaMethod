    /**
     * Complete the password reset flow by using the reset token sent to the user's email as a one-time authorization
     * token to change the password.
     * <p>
     * This can only be used for users who authenticated with the {@link SyncCredentials.IdentityProvider#USERNAME_PASSWORD}
     * provider, and passed a valid email address as a username.
     * <p>
     * By default, Realm Object Server will send a link to the user's email that will redirect to a webpage where
     * they can enter their new password. If you wish to provide a native UX, you may wish to modify the password
     * authentication provider to use a custom URL with deep linking, so you can open the app, extract the token, and
     * navigate to a view that allows to change the password within the app.
     *
     * @param resetToken the token that was sent to the user's email address.
     * @param newPassword the user's new password.
     * @param authenticationUrl the url used to authenticate the user.
     * @param callback callback when the server has accepted the new password or failed. The callback will always happen on the same thread
     * as this method is called on.
     * @return representation of the async task that can be used to cancel it if needed.
     * @throws IllegalStateException if this method is called on a non-looper thread.
     * @throws IllegalArgumentException if no {@code token} or {@code newPassword} was provided.
     */
    public static RealmAsyncTask completePasswordResetAsync(final String resetToken,
                                           final String newPassword,
                                           final String authenticationUrl,
                                           final Callback<Void> callback) throws ObjectServerError {
        checkLooperThread("Asynchronously completing a password reset is only possible from looper threads.");
        //noinspection ConstantConditions
        if (callback == null) {
            throw new IllegalArgumentException("Non-null 'callback' required.");
        }

        return new Request<Void>(SyncManager.NETWORK_POOL_EXECUTOR, callback) {
            @Override
            public Void run() {
                completePasswordReset(resetToken, newPassword, authenticationUrl);
                return null;
            }
        }.start();
    }

