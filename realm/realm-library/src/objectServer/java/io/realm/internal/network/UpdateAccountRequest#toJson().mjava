    /**
     * Converts the request into a JSON payload.
     */
    public String toJson() {
        Map<String, Object> payload = new HashMap<String, Object>() {{
            if (!Util.isEmptyString(providerId)) {
                put("provider_id", providerId);
            }
            data.put("action", action);
            put("data", data);
        }};

        return new JSONObject(payload).toString();
    }

