    /**
     * Returns all valid users known by this device.
     * A user is invalidated when he/she logs out or the user's access token expires.
     *
     * @return a list of all known valid users.
     */
    public static Collection<User> all() {
        UserStore userStore = SyncManager.getUserStore();
        Collection<User> storedUsers = userStore.allUsers();
        List<User> result = new ArrayList<User>(storedUsers.size());
        for (User user : storedUsers) {
            if (user.isValid()) {
                result.add(user);
            }
        }
        return result;
    }

