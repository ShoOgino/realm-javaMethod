    /**
     * Creates an automatic default configuration for the provided user.
     * <p>
     * This configuration will point to the default Realm on the server where the user was
     * authenticated.
     *
     * @throws IllegalArgumentException if no user was provided or the user isn't valid.
     * @return The constructed {@link SyncConfiguration}.
     * @deprecated use {@link SyncUser#getDefaultConfiguration()} instead.
     */
    @Deprecated
    @Beta
    public static SyncConfiguration automatic(SyncUser user) {
        if (user == null) {
            throw new IllegalArgumentException("Non-null 'user' required.");
        }
        if (!user.isValid()) {
            throw new IllegalArgumentException("User is no logger valid.  Log the user in again.");
        }
        return user.getDefaultConfiguration();
    }

