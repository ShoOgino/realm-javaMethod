    /**
     * Makes a permissions offer to users. The offer is represented by an offer token and the permission changes
     * described in the {@link PermissionOffer} do not take effect until the offer has been accepted by a user
     * calling {@link #acceptPermissionsOfferAsync(String, Callback)}.
     * <p>
     * A permission offer can be used as a flexible way of sharing Realms with other users that might not be known at the time
     * of making the offer as well as enabling sharing across other channels like e-mail. If a specific user should be
     * granted access, using {@link #applyPermissionsAsync(PermissionRequest, Callback)} will be faster and quicker.
     * <p>
     * An offer can be accepted by multiple users.
     *
     * @param offer the object description the kind of permissions that should be offered to other users.
     * @return the offer token representing the offer.
     * @throws ObjectServerError if an error happened while trying to create the permissions offer.
     * @throws android.os.NetworkOnMainThreadException if called from the UI thread.
     * @see <a href="https://realm.io/docs/realm-object-server/#permissions">Permissions description</a> for general
     * documentation.
     * @see <a href="https://realm.io/docs/java/latest/#modifying-permissions">Modifying permissions</a> for a more
     * high level description.
     */
    public String makePermissionsOffer(PermissionOffer offer) {
        ObjectServerError error;
        try {
            final RealmObjectServer server = SyncManager.getAuthServer();
            MakePermissionsOfferResponse result = server.makeOffer(offer, refreshToken, baseUrl);
            if (!result.isValid()) {
                error = result.getError();
            } else {
                return result.getToken();
            }
        } catch (Exception e) {
            throw new ObjectServerError(ErrorCode.UNKNOWN, e);
        }
        throw error;
    }

