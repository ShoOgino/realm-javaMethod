    private void runTask(final PermissionManager pm, final PermissionManager.ApplyPermissionsCallback callback) {
        new PermissionManager.PermissionManagerTask<Void>(pm, callback) {
            @Override
            public void run() {
                if (!checkAndReportInvalidState()) {
                    fail();
                }
            }
        }.run();
    }

