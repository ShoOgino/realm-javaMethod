    @Test
    @Ignore("See https://github.com/realm/ros/issues/360")
    public void revokedRefreshTokenIsNotSameAfterLogin() throws InterruptedException {
        final CountDownLatch userLoggedInAgain = new CountDownLatch(1);
        final String uniqueName = UUID.randomUUID().toString();

        final SyncCredentials credentials = SyncCredentials.usernamePassword(uniqueName, "password", true);
        SyncUser user = SyncUser.login(credentials, Constants.AUTH_URL);
        final Token revokedRefreshToken = SyncTestUtils.getRefreshToken(user);

        SyncManager.addAuthenticationListener(new AuthenticationListener() {
            @Override
            public void loggedIn(SyncUser user) {

            }

            @Override
            public void loggedOut(SyncUser user) {
                SyncCredentials credentials = SyncCredentials.usernamePassword(uniqueName, "password", false);
                SyncUser loggedInUser = SyncUser.login(credentials, Constants.AUTH_URL);

                Token token = SyncTestUtils.getRefreshToken(loggedInUser);
                // still comparing the same user
                assertEquals(revokedRefreshToken.identity(), token.identity());

                // different tokens
                assertNotEquals(revokedRefreshToken.value(), token.value());
                SyncManager.removeAuthenticationListener(this);
                userLoggedInAgain.countDown();
            }
        });

        user.logout();
        TestHelper.awaitOrFail(userLoggedInAgain);
    }

