    @Test
    public void waitForInitialRemoteData() {
        // TODO We can improve this test once we got Sync Progress Notifications. Right now we cannot detect
        // when a Realm has been uploaded.
        SyncCredentials credentials = SyncCredentials.usernamePassword(UUID.randomUUID().toString(), "password", true);
        SyncUser user = SyncUser.login(credentials, Constants.AUTH_URL);
        SyncConfiguration config = new SyncConfiguration.Builder(user, Constants.USER_REALM)
                .waitForInitialRemoteData()
                .build();

        Realm realm = null;
        try {
            realm = Realm.getInstance(config);
            assertTrue(realm.isEmpty());
        } finally {
            if (realm != null) {
                realm.close();
            }
        }
    }

