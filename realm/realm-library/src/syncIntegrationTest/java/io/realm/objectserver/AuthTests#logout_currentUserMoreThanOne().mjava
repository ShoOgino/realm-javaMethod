    @Test
    public void logout_currentUserMoreThanOne() {
        SyncUser user = UserFactory.createUniqueUser(Constants.AUTH_URL);
        final RealmConfiguration config1 = configurationFactory.createSyncConfigurationBuilder(user, Constants.USER_REALM)
                .build();
        SyncUser.currentUser().logout();
        SyncUser user2 = UserFactory.createUniqueUser(Constants.AUTH_URL);
        try {
            Realm.getInstance(config1);
            fail("SyncUser is not longer valid, it should not be possible to get a Realm instance");
        } catch (IllegalStateException expected) {
        }
        assertEquals(user2, SyncUser.currentUser());
    }

