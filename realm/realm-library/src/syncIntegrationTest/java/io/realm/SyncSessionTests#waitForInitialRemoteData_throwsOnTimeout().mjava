    @Test
    @RunTestInLooperThread
    public void waitForInitialRemoteData_throwsOnTimeout() {
        SyncUser user = UserFactory.createUniqueUser(Constants.AUTH_URL);
        SyncConfiguration syncConfiguration = configFactory
                .createSyncConfigurationBuilder(user, Constants.SYNC_SERVER_URL)
                .initialData(bgRealm -> {
                    for (int i = 0; i < 100; i++) {
                        bgRealm.createObject(AllTypes.class);
                    }
                })
                .waitForInitialRemoteData(1, TimeUnit.MILLISECONDS)
                .build();

        try {
            Realm.getInstance(syncConfiguration);
            fail("This should have timed out");
        } catch (DownloadingRealmInterruptedException ignore) {
        }
        looperThread.testComplete();
    }

