    // finding elements [0-4] asynchronously then wait for the promise to be loaded
    // using a callback to be notified when the data is loaded
    @Test
    @RunTestInLooperThread
    public void findAllAsync_withNotification() throws Throwable {
        Realm.asyncQueryExecutor.pause();

        populateTestRealm(looperThread.realm, 10);
        final RealmResults<AllTypes> realmResults = looperThread.realm.where(AllTypes.class)
                .between("columnLong", 0, 4)
                .findAllAsync();

        realmResults.addChangeListener(new RealmChangeListener() {
            @Override
            public void onChange() {
                assertTrue(realmResults.isLoaded());
                assertEquals(5, realmResults.size());
                assertTrue(realmResults.get(4).isValid());
                looperThread.testComplete();
            }
        });

        assertFalse(realmResults.isLoaded());
        assertEquals(0, realmResults.size());

        Realm.asyncQueryExecutor.resume();
        looperThread.keepStrongReference.add(realmResults);
    }

