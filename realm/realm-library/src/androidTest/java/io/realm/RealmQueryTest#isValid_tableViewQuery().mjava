    @Test
    public void isValid_tableViewQuery() {
        populateTestRealm();
        final RealmQuery<AllTypes> query = testRealm.where(AllTypes.class).greaterThan(AllTypes.FIELD_FLOAT, 5f)
                .findAll().where();
        assertTrue(query.isValid());

        populateTestRealm(1);
        // still valid if table view changed
        assertTrue(query.isValid());

        testRealm.close();
        assertFalse(query.isValid());
    }

