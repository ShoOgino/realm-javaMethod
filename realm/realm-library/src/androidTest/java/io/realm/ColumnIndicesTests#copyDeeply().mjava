    @Test
    public void copyDeeply() {
        final long schemaVersion = 100;

        final ColumnIndices columnIndices = create(schemaVersion);
        final ColumnIndices deepCopy = new ColumnIndices(columnIndices, true);
        assertNotSame(columnIndices, deepCopy);

        assertEquals(schemaVersion, deepCopy.getSchemaVersion());

        ColumnInfo colInfo = columnIndices.getColumnInfo(Cat.class);
        ColumnInfo colInfoCopy = deepCopy.getColumnInfo(Cat.class);
        assertNotSame(colInfo, colInfoCopy);
        assertEquals(colInfo.getColumnIndex(Cat.FIELD_NAME), colInfoCopy.getColumnIndex(Cat.FIELD_NAME));

        colInfo = columnIndices.getColumnInfo(Dog.class);
        colInfoCopy = deepCopy.getColumnInfo(Dog.class);
        assertNotSame(colInfo, colInfoCopy);
        assertEquals(colInfo.getColumnIndex(Dog.FIELD_AGE), colInfoCopy.getColumnIndex(Dog.FIELD_AGE));
    }

