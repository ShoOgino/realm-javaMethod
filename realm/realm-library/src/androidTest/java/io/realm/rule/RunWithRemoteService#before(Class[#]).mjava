    private void before(Class<?> serviceClass) throws Throwable {
        // Start the testing remote process.
        serviceStartLatch = new CountDownLatch(1);
        Intent intent = new Intent(getContext(), serviceClass);
        getContext().bindService(intent, serviceConnection, Context.BIND_AUTO_CREATE);
        TestHelper.awaitOrFail(serviceStartLatch);
    }

