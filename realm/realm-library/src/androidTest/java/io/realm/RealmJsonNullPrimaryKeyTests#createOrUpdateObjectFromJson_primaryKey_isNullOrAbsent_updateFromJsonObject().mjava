    // Testing null or absent primary key value for createObject() -> createOrUpdateObjectFromJson()
    @Test
    public void createOrUpdateObjectFromJson_primaryKey_isNullOrAbsent_updateFromJsonObject() throws JSONException {
        realm.beginTransaction();
        realm.createObject(clazz); // name = null, id = 0
        realm.createOrUpdateObjectFromJson(clazz, new JSONObject(jsonString));
        realm.commitTransaction();

        // PrimaryKeyAsString
        if (clazz.equals(PrimaryKeyAsString.class)) {
            RealmResults<PrimaryKeyAsString> results = realm.allObjects(PrimaryKeyAsString.class);
            assertEquals(1, results.size());
            assertEquals(Long.valueOf(secondaryFieldValue).longValue(), results.first().getId());
            assertEquals(null, results.first().getName());

        // PrimaryKeyAsNumber
        } else {
            RealmResults results = realm.allObjects(clazz);
            assertEquals(1, results.size());
            assertEquals(null, ((NullPrimaryKey)results.first()).getId());
            assertEquals(secondaryFieldValue, ((NullPrimaryKey)results.first()).getName());
        }
    }

