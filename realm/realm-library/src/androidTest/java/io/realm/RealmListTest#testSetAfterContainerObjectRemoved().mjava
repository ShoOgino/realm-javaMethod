    @Test
    public void testSetAfterContainerObjectRemoved() {
        RealmList<Dog> dogs = createDeletedRealmList();

        testRealm.beginTransaction();
        try {
            Dog dog = testRealm.createObject(Dog.class);
            dog.setName("Dog");
            try {
                dogs.set(0, dog);
                fail();
            } catch (IllegalStateException ignore) {
            }
        } finally {
            testRealm.cancelTransaction();
        }
    }

