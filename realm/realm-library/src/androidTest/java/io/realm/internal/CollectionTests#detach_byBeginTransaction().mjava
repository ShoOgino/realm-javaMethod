    @Test
    public void detach_byBeginTransaction() {
        final Collection collection = new Collection(sharedRealm, table.where());
        assertFalse(collection.isDetached());
        assertEquals(collection.size(), 4);
        addRowAsync();
        // beginTransaction will do advance read, but the table view should stay without changes.
        sharedRealm.beginTransaction();
        assertTrue(collection.isDetached());
        assertEquals(collection.size(), 4);
    }

