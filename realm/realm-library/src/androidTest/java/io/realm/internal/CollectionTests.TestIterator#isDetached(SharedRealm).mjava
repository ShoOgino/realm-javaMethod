        boolean isDetached(SharedRealm sharedRealm) {
            for (WeakReference<Collection.Iterator> iteratorRef : sharedRealm.iterators) {
                Collection.Iterator iterator = iteratorRef.get();
                if (iterator == this) {
                    return false;
                }
            }
            return true;
        }

