    @Test
    public void detach_cancelTransactionWontReattach() {
        final Collection collection = new Collection(sharedRealm, table.where());
        sharedRealm.beginTransaction();
        sharedRealm.cancelTransaction();
        assertTrue(collection.isDetached());
        assertEquals(collection.size(), 4);
    }

