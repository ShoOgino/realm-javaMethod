    @Test
    public void setNulls() {
        Table t = TestHelper.createTable(sharedRealm, "temp", new TestHelper.AdditionalTableSetup() {
            @Override
            public void execute(Table t) {
                t.addColumn(RealmFieldType.STRING, "");
                t.addColumn(RealmFieldType.DATE, "");
                t.addColumn(RealmFieldType.BINARY, "");
                TestHelper.addRowWithValues(t, "String val", new Date(), new byte[] {1, 2, 3});
            }
        });

        sharedRealm.beginTransaction();
        try {
            t.setString(0, 0, null, false);
            fail("null string not allowed");
        } catch (IllegalArgumentException ignored) { }
        try {
            t.setDate(1, 0, null, false);
            fail("null Date not allowed");
        } catch (IllegalArgumentException ignored) { }
        sharedRealm.commitTransaction();
    }

