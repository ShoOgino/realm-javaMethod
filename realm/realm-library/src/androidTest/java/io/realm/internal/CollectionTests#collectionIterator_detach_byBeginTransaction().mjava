    @Test
    public void collectionIterator_detach_byBeginTransaction() {
        final Collection collection = new Collection(sharedRealm, table.where());
        TestIterator iterator = new TestIterator(collection);
        assertFalse(iterator.isDetached(sharedRealm));
        sharedRealm.beginTransaction();
        assertTrue(iterator.isDetached(sharedRealm));
        sharedRealm.commitTransaction();
        assertTrue(iterator.isDetached(sharedRealm));
    }

