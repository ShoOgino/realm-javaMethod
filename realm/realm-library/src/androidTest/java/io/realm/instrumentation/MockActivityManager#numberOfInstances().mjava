    public int numberOfInstances () {
        triggerGC();
        // WeakReferences are enqueued as soon as the object to which they point to becomes
        // weakly reachable.
        deleteWeaklyReachableReferences();
        return references.size();
    }

