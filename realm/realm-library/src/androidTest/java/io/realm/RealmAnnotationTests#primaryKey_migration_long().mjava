    // Tests migrating primary key from string to long with existing data.
    @Test
    public void primaryKey_migration_long() {
        realm.beginTransaction();
        for (int i = 1; i <= 2; i++) {
            PrimaryKeyAsString obj = realm.createObject(PrimaryKeyAsString.class, "String" + i);
            obj.setId(i);
        }

        Table table = realm.getTable(PrimaryKeyAsString.class);
        table.setPrimaryKey("id");
        assertEquals(1, table.getPrimaryKey());
        realm.cancelTransaction();
    }

