    private void assertUsernamePassword(SyncCredentials creds, String username, String password, boolean register) {
        assertEquals(username, creds.getUserIdentifier());

        Map<String, Object> userInfo = creds.getUserInfo();
        assertEquals(SyncCredentials.IdentityProvider.USERNAME_PASSWORD, creds.getIdentityProvider());

        assertEquals(password, userInfo.get("password"));

        Boolean registerActual = (Boolean) userInfo.get("register");
        if (registerActual == null) {
            registerActual = Boolean.FALSE;
        }
        assertEquals(register, registerActual);
    }

