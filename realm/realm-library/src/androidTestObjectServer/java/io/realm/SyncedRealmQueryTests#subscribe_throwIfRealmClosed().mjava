    @Test
    public void subscribe_throwIfRealmClosed() {
        realm = getPartialRealm();
        realm.beginTransaction();
        RealmQuery<AllTypes> query = realm.where(AllTypes.class);
        realm.close();
        try {
            query.subscribe("sub");
            fail();
        } catch (IllegalStateException ignore) {
        }
    }

