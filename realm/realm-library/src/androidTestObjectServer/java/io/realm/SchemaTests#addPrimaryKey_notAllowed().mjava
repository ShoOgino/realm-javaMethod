    @Test
    public void addPrimaryKey_notAllowed() {
        String className = "StringOnly";
        DynamicRealm realm = DynamicRealm.getInstance(config);

        realm.beginTransaction();
        RealmObjectSchema objectSchema = realm.getSchema().get(className);
        assertNotNull(objectSchema);
        objectSchema.addField("foo", String.class);

        try {
            objectSchema.addPrimaryKey("foo");
            fail();
        } catch (UnsupportedOperationException ignored) {
        } finally {
            realm.commitTransaction();
            realm.close();
        }
    }

