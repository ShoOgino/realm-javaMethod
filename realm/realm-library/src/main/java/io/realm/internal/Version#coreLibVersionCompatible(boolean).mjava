    public static boolean coreLibVersionCompatible(boolean throwIfNot) {
        String errTxt = "";
        boolean compatible = nativeIsAtLeast(CORE_MIN_MAJOR, CORE_MIN_MINOR, CORE_MIN_PATCH);
        if (!compatible) {
            errTxt = "Version mismatch between realm.jar ("
                    + CORE_MIN_MAJOR + "." + CORE_MIN_MINOR + "." + CORE_MIN_PATCH
                    + ") and native core library (" + getCoreVersion() + ")";
            if (throwIfNot)
                throw new RuntimeException(errTxt);
            System.err.println(errTxt);
            return false;
        }

        compatible = (nativeGetAPIVersion() == REQUIRED_JNI_VERSION);
        if (!compatible) {
            errTxt = "Native lib API is version " + nativeGetAPIVersion()
                     + " != " +  REQUIRED_JNI_VERSION + " which is expected by the jar.";
            if (throwIfNot)
                throw new RuntimeException(errTxt);
            System.err.println(errTxt);                    
        }
        return compatible;
    }

