    /**
     * To dealloc native resources.
     */
    void cleanup() {
        switch (type) {
            case TYPE_LINK_VIEW:
                LinkView.nativeClose(nativePointer);
                break;
            case TYPE_ROW:
                UncheckedRow.nativeClose(nativePointer);
                break;
            default:
                // Cannot get here.
                throw new IllegalStateException("Unknown native reference type " + type + ".");
        }
    }

