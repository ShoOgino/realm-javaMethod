    public Collection createSnapshot() {
        if (isSnapshot) {
            return this;
        }
        Collection collection = new Collection(sharedRealm, table, nativeCreateSnapshot(nativePtr));
        collection.isSnapshot = true;
        return collection;
    }

