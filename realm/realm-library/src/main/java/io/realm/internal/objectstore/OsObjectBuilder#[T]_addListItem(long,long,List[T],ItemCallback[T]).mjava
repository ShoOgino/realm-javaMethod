    private <T> void addListItem(long builderPtr, long columnIndex, List<T> list, ItemCallback<T> itemCallback) {
        if (list != null) {
            long listPtr = nativeStartList(list.size());
            for (int i = 0; i < list.size(); i++) {
                T item = list.get(i);
                if (item == null) {
                    nativeAddNullListItem(listPtr);
                } else {
                    itemCallback.handleItem(listPtr, item);
                }
            }
            nativeStopList(builderPtr, columnIndex, listPtr);
        } else {
            addEmptyList(columnIndex);
        }
    }

