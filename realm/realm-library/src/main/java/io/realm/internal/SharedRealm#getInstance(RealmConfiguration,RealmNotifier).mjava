    public static SharedRealm getInstance(RealmConfiguration config, RealmNotifier realmNotifier) {
        long nativeConfigPtr = nativeCreateConfig(
                config.getPath(),
                config.getEncryptionKey(),
                SchemaMode.SCHEMA_MODE_MANUAL.value,
                config.getDurability() == Durability.MEM_ONLY,
                false,
                false,
                true,
                null,
                null);
        try {
            return new SharedRealm(nativeGetSharedRealm(nativeConfigPtr, realmNotifier), config, realmNotifier);
        } finally {
            nativeCloseConfig(nativeConfigPtr);
        }
    }

