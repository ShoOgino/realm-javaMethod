    protected BaseRealm(RealmConfiguration configuration) {
        this.threadId = Thread.currentThread().getId();
        this.configuration = configuration;

        this.handlerController = new HandlerController(this);
        this.sharedRealm = SharedRealm.getInstance(configuration, new AndroidNotifier(this.handlerController));
        this.schema = new RealmSchema(this);

        if (handlerController.isAutoRefreshAvailable()) {
            setAutoRefresh(true);
        }
    }

