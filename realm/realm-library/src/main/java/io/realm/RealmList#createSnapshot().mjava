    /**
     * {@inheritDoc}
     */
    @Override
    public OrderedRealmCollectionSnapshot<E> createSnapshot() {
        if (!isManaged()) {
            throw new UnsupportedOperationException(ONLY_IN_MANAGED_MODE_MESSAGE);
        }
        checkValidView();
        if (className != null) {
            return new OrderedRealmCollectionSnapshot<E>(realm,
                    new io.realm.internal.Collection(realm.sharedRealm, view, null),
                    className);
        } else {
            return new OrderedRealmCollectionSnapshot<E>(realm,
                    new io.realm.internal.Collection(realm.sharedRealm, view, null),
                    clazz);
        }
    }

