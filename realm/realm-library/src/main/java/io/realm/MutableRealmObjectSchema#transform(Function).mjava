    @Override
    public RealmObjectSchema transform(Function function) {
        //noinspection ConstantConditions
        if (function != null) {

            OsResults result = OsResults.createFromQuery(realm.sharedRealm, table.where(), new DescriptorOrdering());
            OsResults snapshot = result.createSnapshot();
            OsResults.ListIterator listIterator = new OsResults.ListIterator(snapshot, 0) {

                @Override
                protected Object convertRowToObject(UncheckedRow row) {
                    function.apply(new DynamicRealmObject(realm, row));
                    return null;
                }
            };
            while (listIterator.hasNext()) listIterator.next();
        }

        return this;
    }

