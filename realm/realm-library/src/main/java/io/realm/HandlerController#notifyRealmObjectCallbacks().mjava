    private void notifyRealmObjectCallbacks() {
        List<RealmObject> objectsToBeNotified = new ArrayList<RealmObject>();
        Iterator<WeakReference<RealmObject>> iterator = realmObjects.keySet().iterator();
        while (iterator.hasNext()) {
            WeakReference<? extends RealmObject> weakRealmObject = iterator.next();
            RealmObject realmObject = weakRealmObject.get();
            if (realmObject == null) {
                iterator.remove();

            } else {
                if (realmObject.row.isAttached()) {
                    // It should be legal to modify realmObjects in the listener
                    objectsToBeNotified.add(realmObject);
                } else if (realmObject.row != Row.EMPTY_ROW) {
                    iterator.remove();
                }
            }
        }

        for (Iterator<RealmObject> it = objectsToBeNotified.iterator(); it.hasNext() && !realm.isClosed(); ) {
            RealmObject realmObject = it.next();
            realmObject.notifyChangeListeners();
        }
    }

