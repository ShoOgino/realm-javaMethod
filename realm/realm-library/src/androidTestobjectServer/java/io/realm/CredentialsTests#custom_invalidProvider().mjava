    @Test
    public void custom_invalidProvider() {
        Map<String, Object> userInfo = new HashMap<>();
        userInfo.put("custom", "property");

        for (String provider : new String[]{null, ""}) {
            try {
                Credentials.custom(null, "foo", userInfo);
                fail();
            } catch (IllegalArgumentException ignored) {
            }
        }
    }

